# Core
MISCITE_DB_URL=sqlite:///./data/miscite.db
MISCITE_STORAGE_DIR=./data/uploads
MISCITE_MAX_UPLOAD_MB=50
MISCITE_SESSION_DAYS=14
MISCITE_LOG_LEVEL=INFO
MISCITE_API_TIMEOUT_SECONDS=20
MISCITE_WORKER_PROCESSES=1
MISCITE_WORKER_POLL_SECONDS=1.5

# LLM (OpenRouter) - required
OPENROUTER_API_KEY=
MISCITE_LLM_MODEL=google/gemini-3-flash-preview
MISCITE_ENABLE_LLM_INAPPROPRIATE=true
MISCITE_LLM_MAX_CALLS=25
MISCITE_LLM_PARSE_MODEL=google/gemini-3-flash-preview
MISCITE_LLM_MATCH_MODEL=google/gemini-3-flash-preview
MISCITE_LLM_MATCH_MAX_CALLS=50
MISCITE_LLM_BIB_PARSE_MAX_CHARS=120000
MISCITE_LLM_BIB_PARSE_MAX_REFS=400
MISCITE_LLM_CITATION_PARSE_MAX_CHARS=120000
MISCITE_LLM_CITATION_PARSE_MAX_LINES=2000
MISCITE_LLM_CITATION_PARSE_MAX_CANDIDATE_CHARS=60000

# Optional local NLI (GPU/CPU)
MISCITE_ENABLE_LOCAL_NLI=false
MISCITE_LOCAL_NLI_MODEL=MoritzLaurer/DeBERTa-v3-base-mnli-fever-anli

# Deep analysis (optional, can be expensive)
MISCITE_ENABLE_DEEP_ANALYSIS=false
MISCITE_ENABLE_DEEP_ANALYSIS_LLM_KEY_SELECTION=true
MISCITE_ENABLE_DEEP_ANALYSIS_LLM_SUGGESTIONS=true
MISCITE_DEEP_ANALYSIS_MIN_CONFIDENCE=0.55
MISCITE_DEEP_ANALYSIS_MAX_ORIGINAL_REFS=400
MISCITE_DEEP_ANALYSIS_PAPER_EXCERPT_MAX_CHARS=6000
MISCITE_DEEP_ANALYSIS_MAX_NODES=2500
MISCITE_DEEP_ANALYSIS_MAX_EDGES=50000
MISCITE_DEEP_ANALYSIS_MAX_WORKERS=8
MISCITE_DEEP_ANALYSIS_MAX_REFERENCES_PER_WORK=80
MISCITE_DEEP_ANALYSIS_MAX_SECOND_HOP_SEEDS=500
MISCITE_DEEP_ANALYSIS_MAX_TOTAL_CITING_REFS=1000
MISCITE_DEEP_ANALYSIS_MAX_CITING_REFS_FOR_SECOND_HOP=800
MISCITE_DEEP_ANALYSIS_DISPLAY_MAX_KEY_REFS=25
MISCITE_DEEP_ANALYSIS_DISPLAY_MAX_PER_CATEGORY=20
MISCITE_DEEP_ANALYSIS_DISPLAY_MAX_OPENALEX_FETCHES=140

# Metadata sources
MISCITE_CROSSREF_MAILTO=you@example.com
MISCITE_CROSSREF_USER_AGENT=miscite/0.1 (mailto:you@example.com)

# Datasets (local files)
MISCITE_RETRACTIONWATCH_CSV=./data/datasets/retraction-watch-data/retraction_watch.csv
MISCITE_PREDATORY_CSV=./data/datasets/predatory.csv

# Predatory list auto-sync (Google Sheets)
MISCITE_PREDATORY_SYNC_ENABLED=false
MISCITE_PREDATORY_SYNC_INTERVAL_HOURS=24
MISCITE_PREDATORY_PUBLISHERS_URL=https://docs.google.com/spreadsheets/d/1BHM4aJljhbOAzSpkX1kXDUEvy6vxREZu5WJaDH6M1Vk/edit?usp=sharing
MISCITE_PREDATORY_JOURNALS_URL=https://docs.google.com/spreadsheets/d/1Qa1lAlSbl7iiKddYINNsDB4wxI7uUA4IVseeLnCc5U4/edit?gid=0#gid=0

# Optional list APIs (remote)
MISCITE_RETRACTION_API_ENABLED=false
MISCITE_RETRACTION_API_MODE=lookup
MISCITE_RETRACTION_API_URL=
MISCITE_RETRACTION_API_TOKEN=

MISCITE_PREDATORY_API_ENABLED=false
MISCITE_PREDATORY_API_MODE=lookup
MISCITE_PREDATORY_API_URL=
MISCITE_PREDATORY_API_TOKEN=

# Retraction Watch dataset auto-sync (Crossref-hosted GitLab repo)
MISCITE_RW_SYNC_ENABLED=false
MISCITE_RW_SYNC_METHOD=git
MISCITE_RW_SYNC_INTERVAL_HOURS=24
MISCITE_RW_GIT_REPO=https://gitlab.com/crossref/retraction-watch-data
MISCITE_RW_GIT_DIR=./data/datasets/retraction-watch-data
MISCITE_RW_HTTP_URL=https://gitlab.com/crossref/retraction-watch-data/-/raw/main/retraction_watch.csv?ref_type=heads&inline=false

# Billing (Stripe)
MISCITE_BILLING_ENABLED=false
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID=
STRIPE_SUCCESS_URL=http://localhost:8000/billing/success
STRIPE_CANCEL_URL=http://localhost:8000/billing/cancel
